webpackJsonp([16],{"M+LL":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("x3IM"),a=n("cAgV"),s=(n("Q0Ca"),[{key:1,display_name:"上架"},{key:2,display_name:"下架"}]),l={name:"productHistoryList",directives:{waves:a.a},data:function(){return{statusOptions:s,dialogStatus:"",tableKey:0,list:null,total:null,listLoading:!0,listQuery:{pageIndex:1,pageSize:10,productId:void 0},productTypeOptions:[],productNameTypeOptions:[],materialOptions:[],exteriorOptions:[],createProduct:{}}},watch:{},created:function(){this.listQuery.productId=this.$route.query.pid,this.getList(),this.getDictByType(1,this.productTypeOptions),this.getDictByType(2,this.productNameTypeOptions),this.getDictByType(3,this.materialOptions),this.getDictByType(4,this.exteriorOptions)},methods:{getProductFullName:function(t){return this.typeConvert(t.productType,this.productTypeOptions)+" "+this.typeConvert(t.productNameType,this.productNameTypeOptions)+" "+t.specification+" "+this.typeConvert(t.material,this.materialOptions)+" "+this.typeConvert(t.exterior,this.exteriorOptions)},typeConvert:function(t,e){var n=e.find(function(e){return e.key==t});if(n)return n.display_name},getDictByType:function(t,e){Object(i.n)(t).then(function(t){t.data.data.forEach(function(t){e.push({key:t.key,display_name:t.value})})})},getList:function(){var t=this;this.listLoading=!0,Object(i.s)(this.listQuery).then(function(e){t.list=e.data.data,t.total=e.data.total,t.listLoading=!1})},handleSizeChange:function(t){this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageIndex=t,this.getList()},handleFilter:function(){this.listQuery.pageIndex=1,this.getList()}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container calendar-list-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"产品序号"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleFilter(e)}},model:{value:t.listQuery.productId,callback:function(e){t.$set(t.listQuery,"productId",e)},expression:"listQuery.productId"}}),t._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("table.search")))])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:t.$t("table.id"),width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.productId))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"产品分类 产品名称 规格 材质 外观",width:"420"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.getProductFullName(e.row)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"包重量（KG）"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("toFixed")(e.row.packageWeight,3)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"参考价格（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("toFixed")(e.row.proposedPrice,2)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"零售价格（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("toFixed")(e.row.retailPrice,2)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"进货价格（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("toFixed")(e.row.purchasePrice,2)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"成本价格（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("toFixed")(e.row.costPrice,2)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:t.$t("table.status")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t.typeConvert(e.row.status,t.statusOptions)))])]}}])}),t._v(" "),n("el-table-column",{attrs:{align:"center",label:"修改时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("formatDate")(e.row.modifyTime,"yyyy-MM-dd hh:mm")))])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"","current-page":t.listQuery.pageIndex,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]},o=n("VU/8")(l,r,!1,null,null,null);e.default=o.exports}});